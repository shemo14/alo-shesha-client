import React, {Component} from 'react';import {View, Text, TouchableOpacity, Dimensions, Image, Linking } from "react-native";import {Content, Container, Header, Footer, Icon, Right, Button, Body, Left, FooterTab, Badge} from "native-base";import colors from "../consts/colors";import connect from "react-redux/es/connect/connect";import { LinearGradient } from 'expo';import Communications from 'react-native-communications';import { DoubleBounce } from 'react-native-loader';import CONST from "../consts";import axios from "axios/index";const height = Dimensions.get('window').height;class ContactUs extends Component {	constructor(props) {		super(props);		this.state = {			data: [],			phone: null,			key: null		};	}	static navigationOptions = () => ({		drawerLabel: 'اتصل بنا',		drawerIcon: ( <Icon style={{ fontSize: 25, color: colors.yellow }} type={'FontAwesome'} name={'phone'}/> )	});	componentWillMount() {		axios.get(CONST.url + 'contact-us').then(response => {			this.setState({ data: response.data.data, key: response.data.value, phone: response.data.phone })		})	}	renderLoader(){		if (this.state.key === null){			return (				<View style={{ alignItems: 'center', justifyContent: 'center', height: 500 }}>					<DoubleBounce size={20} color={colors.red} />				</View>			);		}	}	render() {		return (			<Container>				<Header style={{ height: 70, backgroundColor: colors.wight, paddingTop: 15 }}>					<Right style={{ flex: 0 }}>						<Button transparent onPress={() => this.props.navigation.openDrawer()}>							<Icon name='menu' style={{ color: colors.gray, fontSize: 30, marginTop: 8, left: -10 }} />						</Button>					</Right>					<Body style={{ width: '100%', alignItems: 'center', alignSelf: 'center' }}>					<Text style={{ color: colors.gray, textAlign: 'center', marginRight: 20, fontSize: 18 }}>اتصل بنا</Text>					</Body>					<Left style={{ flex: 0 }}>						<Button transparent onPress={() => this.props.navigation.goBack()}>							<Icon name={'ios-arrow-back'} type='Ionicons' style={{ color: colors.gray, marginTop: 8 }} />						</Button>					</Left>				</Header>				{ this.renderLoader() }				<Content style={{ padding: 10 }}>					<View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', height: height-180 }}>						<LinearGradient							colors={['#f49b3e', '#f7b944', '#fad049']}							style={{ padding: 15, alignItems: 'center', borderRadius: 5, width: '100%', height: (40/100)*height }}>							<TouchableOpacity onPress={() => Communications.phonecall('0122033432', false)}>								<View style={{ borderWidth: 2, borderColor: '#fff', borderRadius: 40, marginBottom: 5, width: 35, alignSelf: 'center', padding: 5, marginTop: 20 }}>									<Icon name='phone' type="FontAwesome" style={{ color: colors.wight, fontSize: 20, marginRight: 2 }}/>								</View>								<Text style={{ color: colors.wight, fontSize: 16 }}>{ this.state.phone }</Text>							</TouchableOpacity>							<Text style={{ color: colors.wight, fontSize: 20, marginTop: 30 }}>او عن طريق</Text>							<View style={{ flexDirection: 'row', justifyContent: 'space-between', marginTop: 20 }}>								{									this.state.data.map(( contact, i ) => (										<TouchableOpacity key={i} onPress={() => { Linking.openURL(contact.link)}}>											<Image  source={{ uri: contact.logo }} resizeMode='center' style={{ height: 40, width: 40, margin: 5 }} />										</TouchableOpacity>									))								}							</View>						</LinearGradient>					</View>				</Content>				<Footer>					<FooterTab style={{ backgroundColor: colors.wight }}>						<Button vertical onPress={() => this.props.navigation.navigate('home')}>							<Icon name="home" type='FontAwesome' style={{ color: colors.gray }}/>							<Text style={{ color: colors.gray }}>الرئيسية</Text>						</Button>						<Button vertical onPress={() => this.props.navigation.navigate('orders')}>							<Icon name="shop" type='Entypo' style={{ color: colors.gray }}/>							<Text style={{ color: colors.gray }}>طلباتي</Text>						</Button>						<Button badge vertical onPress={() => this.props.navigation.navigate('cart')}>							<Badge style={{ width: 17, color: colors.red, left: -10, paddingTop: 0 }}><Text style={{ color: colors.wight, textAlign: 'center' }}>{ this.props.count }</Text></Badge>							<Icon type='Entypo' name="shopping-cart" style={{ color: colors.gray }} />							<Text style={{ color: colors.gray }}>السلة</Text>						</Button>						<Button vertical onPress={() => this.props.navigation.navigate('profile')}>							<Icon name="person" type='MaterialIcons' style={{ color: colors.gray }} />							<Text style={{ color: colors.gray }}>حسابي</Text>						</Button>					</FooterTab>				</Footer>			</Container>		);	}}const mapStateToProps = ({ profile, cart }) => {	return {		user: profile.user,		count: cart.count	};};export default connect(mapStateToProps)(ContactUs);